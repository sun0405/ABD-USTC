---
title: ADB-Study02
date: 2023-10-12 21:11:36
tags:
- ABD
categories:
- ABD-USTC
---

# 关系数据库回顾

## 数据库体系结构

数据库体系结构是从模式的角度来描述一般数据库系统的概念和结构，可以用于解释特定数据库系统的内部结构，ANSI/SPARC体系结构——三级模式结构＋两级映象

### 数据库模式的概念

**模式**：数据库中全体数据的逻辑结构和特征的描述，它仅仅涉及类型的描述，不涉及具体的值。

**实例**：模式的一个具体值称为模式的一个实例。

![image-20230923205204128](/figures/02-01.png)

### 数据库的三级模式结构

- 外模式
- 概念模式
- 内模式

**外模式**：单个用户所看到的局部数据的逻辑结构和特征的描述；对用户而言，外模式就是数据库；建立在概念模式之上，同一模式可有多个不同的外模式；通过子模式DDL进行定义

**外部视图**：外模式的实例

**概念模式**：数据库中全体数据的逻辑结构和特征的描述 ，如：数据记录由哪些数据项构成；数据项的名字、类型、取值范围；数据之间的联系、数据的完整性等。

概念模式不涉及硬件环境，且一个数据库只有一个概念模式。通过模式DDL进行定义

**概念视图**：概念模式的实例

**内模式**：数据物理结构和存储方式的描述，如：记录的存储方式；索引按什么方式组织；数据是否加密？是否压缩存储？

内模式不涉及物理块（或页）的大小，也不考虑具体设备的柱面或磁道大小；和概念模式一样，一个数据库也仅有一个内模式；通过内模式DDL定义。

**内部视图**：内模式的实例

![image-20230923210234796](/figures/02-02.png)

### 二级映象和数据独立性  

二级映象实现了三级模式结构直接按的联系和转换，这样就使得用户可以不必关注数据的底层表示方式和存储方式，逻辑化处理数据。

![02-03](/figures/02-03.png)

**外模式/模式映象**: 定义了外模式与概念模式之间的对应关系.

- 属性名称可能不同
- 外模式中的属性可能由模式中的多个属性运算而得

作用: 当概念模式发生改变时, 只要修改外模式/模型映像, 可保持外模式不变, 从而保持用户应用程序不变, 保证了数据与用户程序的逻辑独立性——数据的**逻辑独立性**

**模式/内模式映象**: 定义了概念模式和内模式之间的对应关系

- 概念模式中的逻辑记录和字段在内部 如何表示

当数据库的内部存储结构发生改变时，只要修改模式/内模式映象，可保持概念模式不变，从而保持外模式以及用户程序的不变，保证了数据与程序的物理独立性——数据的**物理独立性**

### SQL数据库体系结构

![图四](/figures/02-04.png)

## 关系数据模型

模型是对现实世界特征的抽象, 而数据模型是对现实世界数据特征的抽象.

定义: 描述现实世界实体, 实体间联系以及数据语义和一致性约束的模型

### 数据模型的分类

**概念数据模型**(概念模型):

- 按用户的观点对数据进行建模, 强调语义表达功能
- 独立于计算机系统和DBMS
- 主要用于数据库的概念设计

**结构数据模型**(数据模型):

- 直接面向数据库的逻辑结构
- 与计算机系统和DBMS相关
- 有严格的形式化定义, 以便于在计算机中实现

### 数据抽象的层次

现实世界 -->信息世界(概念模型) --> 机器世界(数据模型)

### 数据模型的要素

数据结构: 现实世界实体以及实体间联系的表示和实现

数据操作: 数据检索和更新的实现

数据的完整性约束: 数据及数据间联系应具有的制约和依赖规则

### 关系模型

用**规范化的二维表格结构**表示实体集, **外码**表示实体间联系, **三类完整性**表示数据约束的数据模型.

### 一些术语

- 属性: 二维表格的每一列称为关系的一个属性, 列的数目成为*度*.
- 元组: 每一行称为关系的一个元组, 元组数目称为*势*.
- 域: 一组具有相同数据类型的值的集合, 每个属性有一个域
- 关系: 元组的集合
- 超码: 在关系中能唯一标识一个元组的属性集称为关系模式的超码
- 候选码: 不含多余属性的超码, 包含在任何一个候选码中的属性称为主属性, 不包含在任何一个候选码中的属性称为非主属性.
- 主码: 用户选作元组表示的一个候选码称为主码, 其余的候选码称为替换码.

### 关系的性质

关系是一个规范化的二维表格

- 属性值不可分解: 不允许表中有表
- 元组不可重复: 因此一个关系模式中至少存在一个候选码
- 没有行序: 即元组之间无序, 关系是元组的集合, 集合的元素是无序的
- 没有列序: 即属性之间无序, 关系模式是属性的集合

### 关系模式与关系数据库

关系模式:

1. 关系的逻辑结构和特征的描述
2. 对应于二维表格的表头
3. 通常由属性集和各属性域表示, 不关心域时可省略域

关系: 关系模式的实例, 即二维表

关系数据库模式: 关系模式的集合

关系数据库: 关系数据库模式的实例

### 关系模式的形式化定义

**R(U, D, dom, F)**:

R为关系模式名，U是一个属性集，D是U中属性的值所来自的域 ，Dom是属性向域的映射集合，F是属性间的依赖关系

### 函数依赖

F在实际中一般只考虑函数依赖

函数依赖是指一个关系模式中一个属性集和另一个属性集间的多对一关系

